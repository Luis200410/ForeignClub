{% extends "core/base.html" %}
{% block title %}Experiences Â· FOREIGN{% endblock %}
{% block content %}
<div id="smooth-wrapper">
    <div id="smooth-content">

        <section class="section-kinetic">
            <div class="container">
                <p class="text-neon text-uppercase mb-4">Experiences</p>
                <h1 class="display-xl" data-scroll>Choose your <br><span class="text-neon">community track.</span></h1>
            </div>
        </section>

        <!-- Horizontal Scroll Levels -->
        <section class="horizontal-scroll-section">
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-track">
                    {% for level in program_levels %}
                    <div class="horizontal-card">
                        <span class="badge rounded-pill bg-primary text-dark mb-3">{{ level.course_count }}
                            courses</span>
                        <h2 class="display-xl mb-3">{{ level.title }}</h2>
                        <p class="lead text-ink-dim">{{ level.headline }}</p>
                        <div class="mt-auto">
                            <a href="{% url 'program_detail' level.code %}"
                                class="btn-kinetic-outline rounded-pill px-4 py-2">View Track</a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        <!-- Course Catalog -->
        <section class="section-kinetic">
            <div class="container">
                <h2 class="display-xl mb-6" data-scroll>Mission Portfolio</h2>

                {% if has_courses %}
                {% for label, items in course_groups.items %}
                <div class="mb-6" data-scroll>
                    <h3 class="h1 text-neon mb-4">{{ label }}</h3>
                    <div class="row g-4">
                        {% for course in items %}
                        <div class="col-lg-6">
                            <div class="p-5 border border-light rounded-4 h-100 hover-trigger bg-surface-highlight">
                                <div class="d-flex gap-2 mb-4">
                                    <span class="badge border border-light text-light">{{
                                        course.get_delivery_mode_display }}</span>
                                    <span class="badge border border-light text-light">Level {{
                                        course.get_fluency_level_display }}</span>
                                </div>
                                <h4 class="h2 mb-3">{{ course.title }}</h4>
                                <p class="text-ink-dim mb-4">{{ course.subtitle|default:course.summary|truncatechars:120
                                    }}</p>
                                <a href="{% url 'course_detail' course.slug %}" class="btn-kinetic-outline">View
                                    Experience</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <div class="text-center py-6">
                    <p class="display-6 text-ink-dim">Courses inbound.</p>
                </div>
                {% endif %}
            </div>
        </section>

    </div>
</div>

<!-- Navigation Dock -->
<nav class="nav-dock">
    <a href="{% url 'landing' %}">Home</a>
    <a href="{% url 'promise' %}">Promise</a>
    <a href="{% url 'method' %}">Method</a>
    <a href="{% url 'experiences' %}" class="active">Experiences</a>
    <a href="{% url 'pricing' %}">Pricing</a>
    <a href="{% url 'login' %}" style="color: var(--primary);">Login</a>
</nav>

<div class="noise-overlay"></div>
{% endblock %}